// Author  : Lewis Ward (i7212443)
// Program : Game Engine
// Date    : 31/03/2016
#pragma once
#include "Window.h"
#include <cstdint>

namespace GEC
{
	//----------------------------------------------------------------------------------------------------------------------
	/// \brief Timer that records the time taken in ms.
	/// \note  Can only be used on Windows Platofrms - uses Windows API functions.
	//----------------------------------------------------------------------------------------------------------------------
	class Timer
	{
	public:

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Constructor
		//----------------------------------------------------------------------------------------------------------------------
		Timer();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Destructor
		//----------------------------------------------------------------------------------------------------------------------
		~Timer();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief start the timer
		//----------------------------------------------------------------------------------------------------------------------
		void start();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief end the timer
		//----------------------------------------------------------------------------------------------------------------------
		void stop();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief resets the timer
		//----------------------------------------------------------------------------------------------------------------------
		void reset();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief returns the time past since the start and end in milliseconds. Good for checking time past each frame.
		/// \return int64_t
		/// \note this is slower then elapsedTime, as the timer has to stop, compute time, then continue recording again.
		//----------------------------------------------------------------------------------------------------------------------
		int64_t checkElapsedTimeMS();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief computes the different between the start and end queries in milliseconds. Good for one off results, i.e. total execution time
		/// \return int64_t
		//----------------------------------------------------------------------------------------------------------------------
		int64_t elapsedTimeMS();


	private:
		LARGE_INTEGER m_start;
		LARGE_INTEGER m_end;
		LARGE_INTEGER m_clockFrequency;
	};
}
