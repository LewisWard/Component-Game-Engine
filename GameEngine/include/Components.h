// Author  : Lewis Ward (i7212443)
// Program : Game Engine
// Date    : 26/10/2016
#pragma once
#include "Program.h"
#include "Camera.h"
#include "Log.h"
#include "AABB.h"
#include <vector>
#include <memory>

namespace GE
{
	// forward declear, see GameObject.h
	class GameObject;

	//----------------------------------------------------------------------------------------------------------------------
	/// \brief Type of components
	//----------------------------------------------------------------------------------------------------------------------
	enum ComponentType
	{
		kTransform,
		kMeshRenderer,
		kBoxCollider,
		kSphereCollider,
		kCollisionShape,
		kRigidBody,
	};

	//----------------------------------------------------------------------------------------------------------------------
	/// \brief Component base class, GE::GameObjects can have many components attached to them
	//----------------------------------------------------------------------------------------------------------------------
	class Component
	{
	friend class GameObject;

	public:
		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Constructor
		//----------------------------------------------------------------------------------------------------------------------
		Component();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Destructor
		//----------------------------------------------------------------------------------------------------------------------
		virtual ~Component();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  When the component is loaded first time
		//----------------------------------------------------------------------------------------------------------------------
		virtual void onLoad();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Update
		/// prama		float delta time
		//----------------------------------------------------------------------------------------------------------------------
		virtual void onUpdate(float dt);

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  Draw
		//----------------------------------------------------------------------------------------------------------------------
		virtual void onDraw();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  When deleted
		//----------------------------------------------------------------------------------------------------------------------
		virtual void onDelete();

	protected:
		GameObject* m_parent; ///< the gameobject this is attached to
		ComponentType m_type; ///< the type of component this is
	};
};
